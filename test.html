<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script type="text/javascript" src="js/autofields.js"></script>
<script>
angular.module('app',['autofields'])
.controller('JoinCtrl', ['$scope', function ($scope) {
    $scope.user = {
        username: '',
        password: '',
        confirmPassword: '',
    };

    $scope.schema = [
        { property: 'username', type: 'text', attr: { ngMinlength: 4, required: true }, msgs: {minlength: 'Needs to have at least 4 characters'} },
        { property: 'password', type: 'password', attr: { required: true } },
        { property: 'confirmPassword', label: 'Confirm Password', type: 'password', attr: { confirmPassword: 'user.password', required: true } }
    ];

    $scope.join = function(){
        if(!$scope.joinForm.$valid) return;
        //join stuff....
    }
}]);
</script>

<body>

 <form name="joinForm" ng-submit="join()">
    <auto:fields fields="schema" data="user"></auto:fields>
    <button type="submit" class="btn btn-default btn-lg btn-block" ng-class="{'btn-primary':joinForm.$valid}">Join</button>
</form>

</body>


